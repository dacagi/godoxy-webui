{"$ref":"#/definitions/ACLConfig","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"ACLConfig":{"additionalProperties":false,"properties":{"allow":{"description":"Allow list","items":{"$ref":"#/definitions/ACLMatcher"},"type":"array"},"allow_local":{"default":true,"description":"Allow local addresses","type":"boolean"},"default":{"default":"allow","description":"Default action","enum":["allow","deny"],"type":"string"},"deny":{"description":"Deny list","items":{"$ref":"#/definitions/ACLMatcher"},"type":"array"},"log":{"$ref":"#/definitions/ACLLogConfig","description":"ACL logger"}},"type":"object"},"ACLLogConfig":{"additionalProperties":false,"properties":{"keep":{"$ref":"#/definitions/RetentionPolicy","default":"30 days","description":"Retention policy (same as `retention`)"},"log_allowed":{"default":false,"description":"Whether log allowed IPs","type":"boolean"},"path":{"$ref":"#/definitions/URI","description":"The path to the access log file."},"retention":{"$ref":"#/definitions/RetentionPolicy","default":"30 days","description":"Retention policy (same as `keep`)"},"rotate_interval":{"$ref":"#/definitions/Duration","default":"1 day","description":"Rotation interval"},"stdout":{"default":false,"description":"Log to stdout","type":"boolean"}},"type":"object"},"ACLMatcher":{"anyOf":[{"$ref":"#/definitions/IPMatcher"},{"$ref":"#/definitions/CIDRMatcher"},{"$ref":"#/definitions/CountryISOMatcher"},{"$ref":"#/definitions/TimezoneMatcher"}]},"CIDRMatcher":{"type":"string"},"CountryISOMatcher":{"type":"string"},"Duration":{"description":"Duration","type":"string"},"IPMatcher":{"type":"string"},"LogKeepDays":{"type":"string"},"LogKeepLast":{"type":"string"},"LogKeepSize":{"type":"string"},"RetentionPolicy":{"anyOf":[{"$ref":"#/definitions/LogKeepDays"},{"$ref":"#/definitions/LogKeepLast"},{"$ref":"#/definitions/LogKeepSize"}],"default":"30 days","description":"Retention policy"},"TimezoneMatcher":{"type":"string"},"URI":{"description":"URI","format":"uri-reference","type":"string"}}}