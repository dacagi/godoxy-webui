{"$ref":"#/definitions/Config","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"ACLConfig":{"additionalProperties":false,"properties":{"allow":{"description":"Allow list","items":{"$ref":"#/definitions/ACLMatcher"},"type":"array"},"allow_local":{"default":true,"description":"Allow local addresses","type":"boolean"},"default":{"default":"allow","description":"Default action","enum":["allow","deny"],"type":"string"},"deny":{"description":"Deny list","items":{"$ref":"#/definitions/ACLMatcher"},"type":"array"},"log":{"$ref":"#/definitions/ACLLogConfig","description":"ACL logger"}},"type":"object"},"ACLLogConfig":{"additionalProperties":false,"properties":{"keep":{"$ref":"#/definitions/RetentionPolicy","default":"30 days","description":"Retention policy (same as `retention`)"},"log_allowed":{"default":false,"description":"Whether log allowed IPs","type":"boolean"},"path":{"$ref":"#/definitions/URI","description":"The path to the access log file."},"retention":{"$ref":"#/definitions/RetentionPolicy","default":"30 days","description":"Retention policy (same as `keep`)"},"rotate_interval":{"$ref":"#/definitions/Duration","default":"1 day","description":"Rotation interval"},"stdout":{"default":false,"description":"Log to stdout","type":"boolean"}},"type":"object"},"ACLMatcher":{"anyOf":[{"$ref":"#/definitions/IPMatcher"},{"$ref":"#/definitions/CIDRMatcher"},{"$ref":"#/definitions/CountryISOMatcher"},{"$ref":"#/definitions/TimezoneMatcher"}]},"AutocertConfig":{"anyOf":[{"$ref":"#/definitions/LocalOptions"},{"$ref":"#/definitions/CloudflareOptions"},{"$ref":"#/definitions/CloudDNSOptions"},{"$ref":"#/definitions/DuckDNSOptions"},{"$ref":"#/definitions/OVHOptionsWithAppKey"},{"$ref":"#/definitions/OVHOptionsWithOAuth2Config"},{"$ref":"#/definitions/PorkbunOptions"},{"$ref":"#/definitions/OtherOptions"}]},"CIDR":{"type":["string"]},"CIDRMatcher":{"type":"string"},"CloudDNSOptions":{"additionalProperties":false,"properties":{"cert_path":{"type":"string"},"domains":{"items":{"$ref":"#/definitions/DomainOrWildcard"},"type":"array"},"email":{"$ref":"#/definitions/Email"},"key_path":{"type":"string"},"options":{"additionalProperties":false,"properties":{"client_id":{"type":"string"},"email":{"$ref":"#/definitions/Email"},"password":{"type":"string"}},"required":["client_id","email","password"],"type":"object"},"provider":{"const":"clouddns","type":"string"}},"required":["domains","email","options","provider"],"type":"object"},"CloudflareOptions":{"additionalProperties":false,"properties":{"cert_path":{"type":"string"},"domains":{"items":{"$ref":"#/definitions/DomainOrWildcard"},"type":"array"},"email":{"$ref":"#/definitions/Email"},"key_path":{"type":"string"},"options":{"additionalProperties":false,"properties":{"auth_token":{"type":"string"}},"required":["auth_token"],"type":"object"},"provider":{"const":"cloudflare","type":"string"}},"required":["domains","email","options","provider"],"type":"object"},"Config":{"additionalProperties":false,"properties":{"acl":{"$ref":"#/definitions/ACLConfig","description":"Optional access control configuration"},"autocert":{"$ref":"#/definitions/AutocertConfig","description":"Optional autocert configuration"},"entrypoint":{"$ref":"#/definitions/EntrypointConfig","description":"Optional entrypoint configuration"},"homepage":{"$ref":"#/definitions/HomepageConfig"},"match_domains":{"description":"Optional list of domains to match","items":{"$ref":"#/definitions/DomainName"},"minItems":1,"type":"array"},"providers":{"$ref":"#/definitions/Providers","description":"Providers configuration (include file, docker, notification)"},"timeout_shutdown":{"default":3,"description":"Optional timeout before shutdown","minimum":1,"type":"number"}},"required":["providers"],"type":"object"},"CountryISOMatcher":{"type":"string"},"DomainName":{"description":"Domain name","pattern":"^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$","type":"string"},"DomainOrWildcard":{"description":"Domain or wildcard domain","pattern":"^(\\*\\.)?(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$","type":"string"},"DuckDNSOptions":{"additionalProperties":false,"properties":{"cert_path":{"type":"string"},"domains":{"items":{"$ref":"#/definitions/DomainOrWildcard"},"type":"array"},"email":{"$ref":"#/definitions/Email"},"key_path":{"type":"string"},"options":{"additionalProperties":false,"properties":{"token":{"type":"string"}},"required":["token"],"type":"object"},"provider":{"const":"duckdns","type":"string"}},"required":["domains","email","options","provider"],"type":"object"},"Duration":{"description":"Duration","type":"string"},"Email":{"description":"Email address","format":"email","type":"string"},"EntrypointConfig":{"additionalProperties":false,"properties":{"access_log":{"$ref":"#/definitions/RequestLogConfig","description":"Entrypoint access log configuration"},"middlewares":{"$ref":"#/definitions/EntrypointMiddlewares","description":"Entrypoint middleware configuration"}},"type":"object"},"EntrypointMiddlewares":{"items":{"$ref":"#/definitions/MiddlewareComposeItem"},"type":"array"},"GotifyConfig":{"additionalProperties":false,"properties":{"format":{"$ref":"#/definitions/NotificationFormat"},"name":{"type":"string"},"provider":{"const":"gotify","type":"string"},"token":{"type":"string"},"url":{"$ref":"#/definitions/URL"}},"required":["name","provider","token","url"],"type":"object"},"HTTPHeader":{"description":"HTTP Header","pattern":"^[a-zA-Z0-9\\-]+$","type":"string"},"HTTPMethod":{"description":"HTTP Method","enum":["GET","POST","PUT","PATCH","DELETE","CONNECT","HEAD","OPTIONS","TRACE"],"type":"string"},"HomepageConfig":{"additionalProperties":false,"properties":{"use_default_categories":{"default":true,"description":"Use default app categories (uses docker image name)","type":"boolean"}},"required":["use_default_categories"],"type":"object"},"Hostname":{"description":"Hostname","format":"hostname","type":"string"},"IPMatcher":{"type":"string"},"LocalOptions":{"additionalProperties":false,"properties":{"cert_path":{"type":"string"},"key_path":{"type":"string"},"options":{"anyOf":[{"additionalProperties":false,"type":"object"},{"type":"null"}]},"provider":{"const":"local","type":"string"}},"required":["provider"],"type":"object"},"LogField":{"additionalProperties":false,"properties":{"config":{"additionalProperties":{"$ref":"#/definitions/LogFieldMode"},"description":"Field configuration","type":"object"},"default":{"$ref":"#/definitions/LogFieldMode","description":"Default mode"}},"required":["config"],"type":"object"},"LogFieldMode":{"enum":["keep","drop","redact"],"type":"string"},"LogKeepDays":{"type":"string"},"LogKeepLast":{"type":"string"},"LogKeepSize":{"type":"string"},"LooseUse<\"cidr_whitelist\">":{"anyOf":[{"$ref":"#/definitions/SnakeToCamel<\"cidr_whitelist\">"},{"$ref":"#/definitions/SnakeToPascal<\"cidr_whitelist\">"},{"const":"cidr_whitelist","type":"string"}]},"LooseUse<\"cloudflare_real_ip\">":{"anyOf":[{"$ref":"#/definitions/SnakeToCamel<\"cloudflare_real_ip\">"},{"$ref":"#/definitions/SnakeToPascal<\"cloudflare_real_ip\">"},{"const":"cloudflare_real_ip","type":"string"}]},"LooseUse<\"hide_x_forwarded\">":{"anyOf":[{"$ref":"#/definitions/SnakeToCamel<\"hide_x_forwarded\">"},{"$ref":"#/definitions/SnakeToPascal<\"hide_x_forwarded\">"},{"const":"hide_x_forwarded","type":"string"}]},"LooseUse<\"oidc\">":{"anyOf":[{"$ref":"#/definitions/SnakeToCamel<\"oidc\">"},{"$ref":"#/definitions/SnakeToPascal<\"oidc\">"},{"const":"oidc","type":"string"}]},"LooseUse<\"rate_limit\">":{"anyOf":[{"$ref":"#/definitions/SnakeToCamel<\"rate_limit\">"},{"$ref":"#/definitions/SnakeToPascal<\"rate_limit\">"},{"const":"rate_limit","type":"string"}]},"LooseUse<\"real_ip\">":{"anyOf":[{"$ref":"#/definitions/SnakeToCamel<\"real_ip\">"},{"$ref":"#/definitions/SnakeToPascal<\"real_ip\">"},{"const":"real_ip","type":"string"}]},"LooseUse<\"redirect_http\">":{"anyOf":[{"$ref":"#/definitions/SnakeToCamel<\"redirect_http\">"},{"$ref":"#/definitions/SnakeToPascal<\"redirect_http\">"},{"const":"redirect_http","type":"string"}]},"LooseUse<\"set_x_forwarded\">":{"anyOf":[{"$ref":"#/definitions/SnakeToCamel<\"set_x_forwarded\">"},{"$ref":"#/definitions/SnakeToPascal<\"set_x_forwarded\">"},{"const":"set_x_forwarded","type":"string"}]},"LooseUse<(\"error_page\"|\"custom_error_page\")>":{"anyOf":[{"$ref":"#/definitions/SnakeToCamel<(\"error_page\"|\"custom_error_page\")>"},{"$ref":"#/definitions/SnakeToPascal<(\"error_page\"|\"custom_error_page\")>"},{"const":"error_page","type":"string"},{"const":"custom_error_page","type":"string"}]},"LooseUse<(\"modify_request\"|\"request\")>":{"anyOf":[{"$ref":"#/definitions/SnakeToCamel<(\"modify_request\"|\"request\")>"},{"$ref":"#/definitions/SnakeToPascal<(\"modify_request\"|\"request\")>"},{"const":"modify_request","type":"string"},{"const":"request","type":"string"}]},"LooseUse<(\"modify_response\"|\"response\")>":{"anyOf":[{"$ref":"#/definitions/SnakeToCamel<(\"modify_response\"|\"response\")>"},{"$ref":"#/definitions/SnakeToPascal<(\"modify_response\"|\"response\")>"},{"const":"modify_response","type":"string"},{"const":"response","type":"string"}]},"MaxmindConfig":{"additionalProperties":false,"properties":{"account_id":{"description":"Account ID","type":["string","number"]},"database":{"default":"geolite","description":"Database","enum":["geolite","geoip2"],"type":"string"},"license_key":{"description":"License key","type":"string"}},"required":["account_id","license_key"],"type":"object"},"MiddlewareComposeItem":{"anyOf":[{"additionalProperties":false,"properties":{"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"use":{"$ref":"#/definitions/LooseUse<(\"error_page\"|\"custom_error_page\")>","title":"CustomErrorPage"}},"required":["use"],"type":"object"},{"additionalProperties":false,"properties":{"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"use":{"$ref":"#/definitions/LooseUse<\"redirect_http\">","title":"RedirectHTTP"}},"required":["use"],"type":"object"},{"additionalProperties":false,"properties":{"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"use":{"$ref":"#/definitions/LooseUse<\"set_x_forwarded\">","title":"SetXForwarded"}},"required":["use"],"type":"object"},{"additionalProperties":false,"properties":{"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"use":{"$ref":"#/definitions/LooseUse<\"hide_x_forwarded\">","title":"HideXForwarded"}},"required":["use"],"type":"object"},{"additionalProperties":false,"properties":{"allow":{"items":{"$ref":"#/definitions/CIDR"},"type":"array"},"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"message":{"default":"IP not allowed","description":"Error message when blocked","type":"string"},"status":{"$ref":"#/definitions/StatusCode","default":403,"description":"HTTP status code when blocked (alias of status_code)"},"status_code":{"$ref":"#/definitions/StatusCode","default":403,"description":"HTTP status code when blocked"},"use":{"$ref":"#/definitions/LooseUse<\"cidr_whitelist\">","title":"CIDRWhitelist"}},"required":["allow","use"],"type":"object"},{"additionalProperties":false,"properties":{"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"use":{"$ref":"#/definitions/LooseUse<\"cloudflare_real_ip\">","title":"CloudflareRealIP"}},"required":["use"],"type":"object"},{"additionalProperties":false,"properties":{"add_headers":{"$ref":"#/definitions/Record<HTTPHeader,string>","description":"Add HTTP headers"},"add_prefix":{"description":"Add prefix to request URL","type":"string"},"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"hide_headers":{"description":"Hide HTTP headers","items":{"$ref":"#/definitions/HTTPHeader"},"type":"array"},"set_headers":{"$ref":"#/definitions/Record<HTTPHeader,string>","description":"Set HTTP headers"},"use":{"$ref":"#/definitions/LooseUse<(\"modify_request\"|\"request\")>","title":"ModifyRequest"}},"required":["use"],"type":"object"},{"additionalProperties":false,"properties":{"add_headers":{"$ref":"#/definitions/Record<HTTPHeader,string>","description":"Add HTTP headers"},"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"hide_headers":{"description":"Hide HTTP headers","items":{"$ref":"#/definitions/HTTPHeader"},"type":"array"},"set_headers":{"$ref":"#/definitions/Record<HTTPHeader,string>","description":"Set HTTP headers"},"use":{"$ref":"#/definitions/LooseUse<(\"modify_response\"|\"response\")>","title":"ModifyResponse"}},"required":["use"],"type":"object"},{"additionalProperties":false,"properties":{"allowed_groups":{"description":"Allowed groups","items":{"type":"string"},"minItems":1,"type":"array"},"allowed_users":{"description":"Allowed users","items":{"type":"string"},"minItems":1,"type":"array"},"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"use":{"$ref":"#/definitions/LooseUse<\"oidc\">","title":"OIDC"}},"required":["use"],"type":"object"},{"additionalProperties":false,"properties":{"average":{"description":"Average number of requests allowed in a period","type":"number"},"burst":{"description":"Maximum number of requests allowed in a period","type":"number"},"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"period":{"$ref":"#/definitions/Duration","default":"1s","description":"Duration of the rate limit"},"use":{"$ref":"#/definitions/LooseUse<\"rate_limit\">","title":"RateLimit"}},"required":["average","burst","use"],"type":"object"},{"additionalProperties":false,"properties":{"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"from":{"items":{"$ref":"#/definitions/CIDR"},"type":"array"},"header":{"$ref":"#/definitions/HTTPHeader","default":"X-Real-IP","description":"Header to get the client IP from"},"recursive":{"default":false,"description":"Recursive resolve the IP","type":"boolean"},"use":{"$ref":"#/definitions/LooseUse<\"real_ip\">","title":"RealIP"}},"required":["from","use"],"type":"object"},{"additionalProperties":false,"properties":{"bypass":{"items":{"$ref":"#/definitions/RuleOn"},"type":"array"},"use":{"$ref":"#/definitions/MiddlewareFileRef"}},"required":["use"],"type":"object"}]},"MiddlewareFileRef":{"type":"string"},"NotificationFormat":{"enum":["markdown","plain"],"type":"string"},"NtfyConfig":{"additionalProperties":false,"properties":{"format":{"$ref":"#/definitions/NotificationFormat"},"name":{"type":"string"},"provider":{"const":"ntfy","type":"string"},"token":{"type":"string"},"topic":{"type":"string"},"url":{"$ref":"#/definitions/URL"}},"required":["name","provider","topic","url"],"type":"object"},"OVHEndpoint":{"enum":["ovh-eu","ovh-ca","ovh-us","kimsufi-eu","kimsufi-ca","soyoustart-eu","soyoustart-ca"],"type":"string"},"OVHOptionsWithAppKey":{"additionalProperties":false,"properties":{"cert_path":{"type":"string"},"domains":{"items":{"$ref":"#/definitions/DomainOrWildcard"},"type":"array"},"email":{"$ref":"#/definitions/Email"},"key_path":{"type":"string"},"options":{"additionalProperties":false,"properties":{"api_endpoint":{"$ref":"#/definitions/OVHEndpoint"},"application_key":{"type":"string"},"application_secret":{"type":"string"},"consumer_key":{"type":"string"}},"required":["application_secret","consumer_key","application_key"],"type":"object"},"provider":{"const":"ovh","type":"string"}},"required":["domains","email","options","provider"],"type":"object"},"OVHOptionsWithOAuth2Config":{"additionalProperties":false,"properties":{"cert_path":{"type":"string"},"domains":{"items":{"$ref":"#/definitions/DomainOrWildcard"},"type":"array"},"email":{"$ref":"#/definitions/Email"},"key_path":{"type":"string"},"options":{"additionalProperties":false,"properties":{"api_endpoint":{"$ref":"#/definitions/OVHEndpoint"},"application_secret":{"type":"string"},"consumer_key":{"type":"string"},"oauth2_config":{"additionalProperties":false,"properties":{"client_id":{"type":"string"},"client_secret":{"type":"string"}},"required":["client_id","client_secret"],"type":"object"}},"required":["application_secret","consumer_key","oauth2_config"],"type":"object"},"provider":{"const":"ovh","type":"string"}},"required":["domains","email","options","provider"],"type":"object"},"OtherOptions":{"additionalProperties":false,"properties":{"cert_path":{"type":"string"},"domains":{"items":{"$ref":"#/definitions/DomainOrWildcard"},"type":"array"},"email":{"$ref":"#/definitions/Email"},"key_path":{"type":"string"},"options":{"type":"object"},"provider":{"type":"string"}},"required":["domains","email","options","provider"],"type":"object"},"PorkbunOptions":{"additionalProperties":false,"properties":{"cert_path":{"type":"string"},"domains":{"items":{"$ref":"#/definitions/DomainOrWildcard"},"type":"array"},"email":{"$ref":"#/definitions/Email"},"key_path":{"type":"string"},"options":{"additionalProperties":false,"properties":{"api_key":{"type":"string"},"secret_api_key":{"type":"string"}},"required":["api_key","secret_api_key"],"type":"object"},"provider":{"const":"porkbun","type":"string"}},"required":["domains","email","options","provider"],"type":"object"},"Providers":{"additionalProperties":false,"properties":{"agents":{"description":"List of GoDoxy agents","items":{"type":"string"},"minItems":1,"type":"array"},"docker":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/URL"},{"const":"$DOCKER_HOST","type":"string"}]},"description":"Name-value mapping of docker hosts to retrieve routes from","minProperties":1,"type":"object"},"include":{"description":"List of route definition files to include","items":{"$ref":"#/definitions/URI"},"minItems":1,"type":"array"},"maxmind":{"$ref":"#/definitions/MaxmindConfig","description":"Maxmind provider"},"notification":{"description":"List of notification providers","items":{"anyOf":[{"$ref":"#/definitions/WebhookConfig"},{"$ref":"#/definitions/GotifyConfig"},{"$ref":"#/definitions/NtfyConfig"}]},"minItems":1,"type":"array"},"proxmox":{"description":"List of proxmox providers","items":{"$ref":"#/definitions/ProxmoxConfig"},"minItems":1,"type":"array"}},"type":"object"},"ProxmoxConfig":{"additionalProperties":false,"properties":{"no_tls_verify":{"type":"boolean"},"secret":{"type":"string"},"token_id":{"type":"string"},"url":{"$ref":"#/definitions/URL"}},"required":["url","token_id","secret"],"type":"object"},"Record<HTTPHeader,string>":{"additionalProperties":{"type":"string"},"propertyNames":{"description":"HTTP Header","pattern":"^[a-zA-Z0-9\\-]+$"},"type":"object"},"RequestAccessLogFilter<CIDR>":{"additionalProperties":false,"properties":{"negative":{"default":false,"description":"Whether the filter is negative.","type":"boolean"},"values":{"items":{"$ref":"#/definitions/CIDR"},"type":"array"}},"required":["values"],"type":"object"},"RequestAccessLogFilter<HTTPHeader>":{"additionalProperties":false,"properties":{"negative":{"default":false,"description":"Whether the filter is negative.","type":"boolean"},"values":{"items":{"$ref":"#/definitions/HTTPHeader"},"type":"array"}},"required":["values"],"type":"object"},"RequestAccessLogFilter<HTTPMethod>":{"additionalProperties":false,"properties":{"negative":{"default":false,"description":"Whether the filter is negative.","type":"boolean"},"values":{"items":{"$ref":"#/definitions/HTTPMethod"},"type":"array"}},"required":["values"],"type":"object"},"RequestAccessLogFilter<Hostname>":{"additionalProperties":false,"properties":{"negative":{"default":false,"description":"Whether the filter is negative.","type":"boolean"},"values":{"items":{"$ref":"#/definitions/Hostname"},"type":"array"}},"required":["values"],"type":"object"},"RequestAccessLogFilter<StatusCodeRange>":{"additionalProperties":false,"properties":{"negative":{"default":false,"description":"Whether the filter is negative.","type":"boolean"},"values":{"items":{"$ref":"#/definitions/StatusCodeRange"},"type":"array"}},"required":["values"],"type":"object"},"RequestLogConfig":{"additionalProperties":false,"properties":{"fields":{"$ref":"#/definitions/RequestLogFields","description":"The access log fields"},"filters":{"$ref":"#/definitions/RequestLogFilters","description":"The access log filters"},"format":{"$ref":"#/definitions/RequestLogFormat","default":"combined","description":"The format of the access log"},"keep":{"$ref":"#/definitions/RetentionPolicy","default":"30 days","description":"Retention policy (same as `retention`)"},"path":{"$ref":"#/definitions/URI","description":"The path to the access log file."},"retention":{"$ref":"#/definitions/RetentionPolicy","default":"30 days","description":"Retention policy (same as `keep`)"},"rotate_interval":{"$ref":"#/definitions/Duration","default":"1 day","description":"Rotation interval"},"stdout":{"default":false,"description":"Log to stdout","type":"boolean"}},"type":"object"},"RequestLogFields":{"anyOf":[{"additionalProperties":false,"properties":{"cookies":{"$ref":"#/definitions/LogField"},"headers":{"$ref":"#/definitions/LogField"},"query":{"$ref":"#/definitions/LogField"}},"type":"object"},{"additionalProperties":false,"properties":{"cookie":{"$ref":"#/definitions/LogField"},"header":{"$ref":"#/definitions/LogField"},"query":{"$ref":"#/definitions/LogField"}},"type":"object"}]},"RequestLogFilters":{"additionalProperties":false,"properties":{"cidr":{"$ref":"#/definitions/RequestAccessLogFilter<CIDR>"},"headers":{"$ref":"#/definitions/RequestAccessLogFilter<HTTPHeader>"},"host":{"$ref":"#/definitions/RequestAccessLogFilter<Hostname>"},"method":{"$ref":"#/definitions/RequestAccessLogFilter<HTTPMethod>"},"status_code":{"$ref":"#/definitions/RequestAccessLogFilter<StatusCodeRange>"}},"type":"object"},"RequestLogFormat":{"default":"combined","description":"The format of the access log.","enum":["combined","common","json"],"type":"string"},"RetentionPolicy":{"anyOf":[{"$ref":"#/definitions/LogKeepDays"},{"$ref":"#/definitions/LogKeepLast"},{"$ref":"#/definitions/LogKeepSize"}],"default":"30 days","description":"Retention policy"},"RuleOn":{"anyOf":[{"$ref":"#/definitions/RuleOnHeader"},{"$ref":"#/definitions/RuleOnHeaderAnyValue"},{"$ref":"#/definitions/RuleOnQuery"},{"$ref":"#/definitions/RuleOnQueryAnyValue"},{"$ref":"#/definitions/RuleOnCookie"},{"$ref":"#/definitions/RuleOnCookieAnyValue"},{"$ref":"#/definitions/RuleOnForm"},{"$ref":"#/definitions/RuleOnFormAnyValue"},{"$ref":"#/definitions/RuleOnPostForm"},{"$ref":"#/definitions/RuleOnPostFormAnyValue"},{"$ref":"#/definitions/RuleOnMethod"},{"$ref":"#/definitions/RuleOnPath"},{"$ref":"#/definitions/RuleOnRemote"},{"$ref":"#/definitions/RuleOnRoute"},{"$ref":"#/definitions/RuleOnBasicAuth"}],"description":"Rule on","examples":["header Content-Type application/json","query key value","cookie key value","form key value","post_form key value","method GET","path /api/*","remote 127.0.0.1","route immich","basic_auth admin $2y$05$N3ZiFNDXVSMZ/OtcuSzGrOEBp15dqw6kQ9OJWvJSlgi9/zJ9LuCrm","rewrite / /index.html","serve /static","proxy http://localhost:8080","redirect https://example.com","redirect /index.html","error 404 \"Not Found\"","require_basic_auth \"Restricted Area\"","set headers Content-Type application/json","add headers Content-Type application/json","remove headers Content-Type","pass"]},"RuleOnBasicAuth":{"description":"basic_auth {username} {bcrypt_hashed_password}\n\nMatch the request basic authentication with the given username and bcrypt hashed password.","examples":["basic_auth admin $2y$05$N3ZiFNDXVSMZ/OtcuSzGrOEBp15dqw6kQ9OJWvJSlgi9/zJ9LuCrm"],"type":"string"},"RuleOnCookie":{"description":"cookie {key} {value}\n\nMatch the request cookie with the given key and value.","examples":["cookie key value"],"type":"string"},"RuleOnCookieAnyValue":{"description":"cookie {key}\n\nMatch the request cookie with the given key.","examples":["cookie key"],"type":"string"},"RuleOnForm":{"description":"form {key} {value}\n\nMatch the request form with the given key and value.","examples":["form key value"],"type":"string"},"RuleOnFormAnyValue":{"description":"form {key}\n\nMatch the request form with the given key.","examples":["form key"],"type":"string"},"RuleOnHeader":{"description":"header {key} {value}\n\nMatch the request header with the given key and value.","examples":["header Content-Type application/json"],"type":"string"},"RuleOnHeaderAnyValue":{"description":"header {key}\n\nMatch the request header with the given key.","examples":["header Content-Type"],"type":"string"},"RuleOnMethod":{"description":"method {http_method}\n\nMatch the request method with the given method.","enum":["method GET","method POST","method PUT","method PATCH","method DELETE","method CONNECT","method HEAD","method OPTIONS","method TRACE"],"examples":["method GET"],"type":"string"},"RuleOnPath":{"description":"path {glob_pattern}\n\nMatch the request path with the given glob pattern.","examples":["path /api/*"],"type":"string"},"RuleOnPostForm":{"description":"post_form {key} {value}\n\nMatch the request post form with the given key and value.","examples":["post_form key value"],"type":"string"},"RuleOnPostFormAnyValue":{"description":"post_form {key}\n\nMatch the request post form with the given key.","examples":["post_form key"],"type":"string"},"RuleOnQuery":{"description":"query {key} {value}\n\nMatch the request query with the given key and value.","examples":["query key value"],"type":"string"},"RuleOnQueryAnyValue":{"description":"query {key}\n\nMatch the request query with the given key.","examples":["query key"],"type":"string"},"RuleOnRemote":{"description":"remote {ip|cidr}\n\nMatch the request remote address with the given IP or CIDR.","examples":["remote 127.0.0.1"],"type":"string"},"RuleOnRoute":{"description":"route {alias}\n\nMatch the request route with the given alias.","examples":["route immich"],"type":"string"},"SnakeToCamel<\"cidr_whitelist\">":{"type":"string"},"SnakeToCamel<\"cloudflare_real_ip\">":{"type":"string"},"SnakeToCamel<\"hide_x_forwarded\">":{"type":"string"},"SnakeToCamel<\"oidc\">":{"type":"string"},"SnakeToCamel<\"rate_limit\">":{"type":"string"},"SnakeToCamel<\"real_ip\">":{"type":"string"},"SnakeToCamel<\"redirect_http\">":{"type":"string"},"SnakeToCamel<\"set_x_forwarded\">":{"type":"string"},"SnakeToCamel<(\"error_page\"|\"custom_error_page\")>":{"type":"string"},"SnakeToCamel<(\"modify_request\"|\"request\")>":{"type":"string"},"SnakeToCamel<(\"modify_response\"|\"response\")>":{"type":"string"},"SnakeToPascal<\"cidr_whitelist\">":{"$ref":"#/definitions/Title<SnakeToCamel<\"cidr_whitelist\">>"},"SnakeToPascal<\"cloudflare_real_ip\">":{"$ref":"#/definitions/Title<SnakeToCamel<\"cloudflare_real_ip\">>"},"SnakeToPascal<\"hide_x_forwarded\">":{"$ref":"#/definitions/Title<SnakeToCamel<\"hide_x_forwarded\">>"},"SnakeToPascal<\"oidc\">":{"$ref":"#/definitions/Title<SnakeToCamel<\"oidc\">>"},"SnakeToPascal<\"rate_limit\">":{"$ref":"#/definitions/Title<SnakeToCamel<\"rate_limit\">>"},"SnakeToPascal<\"real_ip\">":{"$ref":"#/definitions/Title<SnakeToCamel<\"real_ip\">>"},"SnakeToPascal<\"redirect_http\">":{"$ref":"#/definitions/Title<SnakeToCamel<\"redirect_http\">>"},"SnakeToPascal<\"set_x_forwarded\">":{"$ref":"#/definitions/Title<SnakeToCamel<\"set_x_forwarded\">>"},"SnakeToPascal<(\"error_page\"|\"custom_error_page\")>":{"$ref":"#/definitions/Title<SnakeToCamel<(\"error_page\"|\"custom_error_page\")>>"},"SnakeToPascal<(\"modify_request\"|\"request\")>":{"$ref":"#/definitions/Title<SnakeToCamel<(\"modify_request\"|\"request\")>>"},"SnakeToPascal<(\"modify_response\"|\"response\")>":{"$ref":"#/definitions/Title<SnakeToCamel<(\"modify_response\"|\"response\")>>"},"StatusCode":{"description":"Status code","type":"number"},"StatusCodeRange":{"description":"Status code range","type":["number","string"]},"TimezoneMatcher":{"type":"string"},"Title<SnakeToCamel<\"cidr_whitelist\">>":{"type":"string"},"Title<SnakeToCamel<\"cloudflare_real_ip\">>":{"type":"string"},"Title<SnakeToCamel<\"hide_x_forwarded\">>":{"type":"string"},"Title<SnakeToCamel<\"oidc\">>":{"type":"string"},"Title<SnakeToCamel<\"rate_limit\">>":{"type":"string"},"Title<SnakeToCamel<\"real_ip\">>":{"type":"string"},"Title<SnakeToCamel<\"redirect_http\">>":{"type":"string"},"Title<SnakeToCamel<\"set_x_forwarded\">>":{"type":"string"},"Title<SnakeToCamel<(\"error_page\"|\"custom_error_page\")>>":{"type":"string"},"Title<SnakeToCamel<(\"modify_request\"|\"request\")>>":{"type":"string"},"Title<SnakeToCamel<(\"modify_response\"|\"response\")>>":{"type":"string"},"URI":{"description":"URI","format":"uri-reference","type":"string"},"URL":{"description":"URL","format":"uri","type":"string"},"WebhookColorMode":{"enum":["hex","dec"],"type":"string"},"WebhookConfig":{"additionalProperties":false,"properties":{"color_mode":{"$ref":"#/definitions/WebhookColorMode","default":"hex","description":"Webhook color mode"},"method":{"$ref":"#/definitions/WebhookMethod","default":"POST","description":"Webhook method"},"mime_type":{"$ref":"#/definitions/WebhookMimeType","default":"application/json","description":"Webhook mime type"},"name":{"type":"string"},"payload":{"description":"Webhook message (usally JSON), required when template is not defined","type":"string"},"provider":{"const":"webhook","type":"string"},"template":{"$ref":"#/definitions/WebhookTemplate","default":"discord","description":"Webhook template"},"token":{"type":"string"},"url":{"$ref":"#/definitions/URL"}},"required":["name","provider","url"],"type":"object"},"WebhookMethod":{"enum":["POST","GET","PUT"],"type":"string"},"WebhookMimeType":{"enum":["application/json","application/x-www-form-urlencoded","text/plain","text/markdown"],"type":"string"},"WebhookTemplate":{"enum":["","discord"],"type":"string"}}}